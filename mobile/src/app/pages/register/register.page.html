<ion-content>
  <ion-grid>
    <ion-row class="ion-justify-content-center">
      <ion-col size="12" size-md="6" size-lg="4">
        <div class="register-container">

          <!-- Botón de regreso -->
          <ion-button fill="clear" class="back-button" size="small" (click)="goBack()">
            <ion-icon name="chevron-back-outline"></ion-icon>
          </ion-button>

          <!-- Título y descripción -->
          <h1>{{ 'REGISTER_TITLE' | translate }}</h1>
          <p>{{ 'REGISTER_DESCRIPTION' | translate }}</p>

          <!-- Formulario -->
          <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

            <!-- Nombre -->
            <ion-item>
              <ion-input type="text" formControlName="name" [placeholder]="'NAME_PLACEHOLDER' | translate"></ion-input>
            </ion-item>
            <ion-text color="danger" *ngIf="name.invalid && (name.dirty || name.touched)">
              <small *ngIf="name.errors?.['required']">{{ 'NAME_REQUIRED' | translate }}</small>
            </ion-text>

            <!-- Género -->
            <ion-label class="label-left">{{ 'SELECT_GENDER' | translate }}</ion-label>
            <ion-radio-group formControlName="gender">
              <ion-row>
                <ion-col size="auto">
                  <ion-item lines="none">
                    <ion-radio slot="start" value="male"></ion-radio>
                    <ion-label>{{ 'GENDER_MALE' | translate }}</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col size="auto">
                  <ion-item lines="none">
                    <ion-radio slot="start" value="female"></ion-radio>
                    <ion-label>{{ 'GENDER_FEMALE' | translate }}</ion-label>
                  </ion-item>
                </ion-col>
              </ion-row>
            </ion-radio-group>
            <ion-text color="danger" *ngIf="gender.invalid && (gender.dirty || gender.touched)">
              <small>{{ 'GENDER_REQUIRED' | translate }}</small>
            </ion-text>

            <!-- País -->
            <ion-item lines="none" class="country-item">
              <ion-label>{{ 'COUNTRY_LABEL' | translate }}</ion-label>
              <ion-select interface="popover" [placeholder]="'COUNTRY_PLACEHOLDER' | translate" formControlName="country">
                <ion-select-option value="mx">{{ 'COUNTRY_MX' | translate }}</ion-select-option>
                <ion-select-option value="us">{{ 'COUNTRY_US' | translate }}</ion-select-option>
                <ion-select-option value="es">{{ 'COUNTRY_ES' | translate }}</ion-select-option>
              </ion-select>
            </ion-item>
            <ion-text color="danger" *ngIf="country.invalid && (country.dirty || country.touched)">
              <small>{{ 'COUNTRY_REQUIRED' | translate }}</small>
            </ion-text>

            <!-- Correo -->
            <ion-item>
              <ion-input type="email" formControlName="email" [placeholder]="'EMAIL_PLACEHOLDER' | translate"></ion-input>
            </ion-item>
            <ion-text color="danger" *ngIf="email.invalid && (email.dirty || email.touched)">
              <small *ngIf="email.errors?.['required']">{{ 'EMAIL_REQUIRED' | translate }}</small>
              <small *ngIf="email.errors?.['email']">{{ 'EMAIL_INVALID' | translate }}</small>
            </ion-text>

            <!-- Contraseña -->
            <ion-item>
              <ion-input type="password" formControlName="password" [placeholder]="'PASSWORD_PLACEHOLDER' | translate"></ion-input>
            </ion-item>
            <ion-text color="danger" *ngIf="password.invalid && (password.dirty || password.touched)">
              <small *ngIf="password.errors?.['required']">{{ 'PASSWORD_REQUIRED' | translate }}</small>
              <small *ngIf="password.errors?.['minlength']">{{ 'PASSWORD_MIN' | translate }}</small>
            </ion-text>

            <!-- Confirmar Contraseña -->
            <ion-item>
              <ion-input type="password" formControlName="confirmPassword" [placeholder]="'CONFIRM_PASSWORD_PLACEHOLDER' | translate"></ion-input>
            </ion-item>
            <ion-text color="danger" *ngIf="confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched)">
              <small *ngIf="confirmPassword.errors?.['required']">{{ 'CONFIRM_PASSWORD_REQUIRED' | translate }}</small>
            </ion-text>

            <!-- Validación de coincidencia de contraseñas -->
            <ion-text color="danger" *ngIf="registerForm.errors?.['passwordMismatch'] && registerForm.touched">
              <small>{{ 'PASSWORDS_DO_NOT_MATCH' | translate }}</small>
            </ion-text>


            <!-- Botón de registro -->
            <ion-button expand="block" type="submit" [disabled]="registerForm.invalid" class="button-primary">
              {{ 'REGISTER_BUTTON' | translate }}
            </ion-button>
          </form>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
